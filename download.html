<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HFC App - Download</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
            text-align: center;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .logo {
            font-size: 3em;
            margin-bottom: 20px;
        }
        h1 {
            color: white;
            margin-bottom: 10px;
            font-weight: 300;
            font-size: 2.5em;
        }
        .subtitle {
            font-size: 1.2em;
            margin-bottom: 40px;
            opacity: 0.9;
        }
        .download-btn {
            display: inline-block;
            background: #4CAF50;
            color: white;
            padding: 20px 40px;
            text-decoration: none;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: bold;
            margin: 20px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        .download-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        .info {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: left;
        }
        .info h3 {
            margin-top: 0;
            color: #FFD700;
        }
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        .feature-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        .warning {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #FFC107;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .file-info {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 10px;
        }
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            h1 {
                font-size: 2em;
            }
            .download-btn {
                padding: 15px 30px;
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">üì±</div>
        <h1>HFC App</h1>
        <div class="subtitle">HC20 Wearable Device Integration</div>
        
        <a href="hfc-app.apk" class="download-btn" download="hfc-app.apk">
            üì• Download APK
        </a>
        
        <div class="file-info">
            File: hfc-app.apk (46.0 MB)<br>
            Version: 1.5.12 - Background Webhooks with Foreground Service<br>
            Build: Release<br>
            Updated: December 8, 2025 (12:02 PM)
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Installation Note:</strong> You may need to enable "Install from unknown sources" in your Android settings to install this APK.
        </div>

        <div class="info">
            <h3>üöÄ App Features</h3>
            <div class="features">
                <div class="feature">
                    <div class="feature-icon">üîç</div>
                    <strong>Device Discovery</strong><br>
                    Scan for HC20 wearables
                </div>
                <div class="feature">
                    <div class="feature-icon">üíì</div>
                    <strong>Health Monitoring</strong><br>
                    Real-time vitals tracking
                </div>
                <div class="feature">
                    <div class="feature-icon">üìä</div>
                    <strong>Data Analytics</strong><br>
                    Historical health data
                </div>
                <div class="feature">
                    <div class="feature-icon">‚òÅÔ∏è</div>
                    <strong>Cloud Sync</strong><br>
                    Automatic data upload
                </div>
                <div class="feature">
                    <div class="feature-icon">üìã</div>
                    <strong>All Data View</strong><br>
                    60+ parameters displayed
                </div>
                <div class="feature">
                    <div class="feature-icon">üîó</div>
                    <strong>Backend Sync</strong><br>
                    Auto webhook to API
                </div>
            </div>
        </div>
        
        <div class="info" style="background: linear-gradient(135deg, rgba(103, 58, 183, 0.2), rgba(156, 39, 176, 0.2));">
            <h3>üÜï What's New in v1.5.12</h3>
            <p><strong>üéâ BACKGROUND WEBHOOKS WITH FOREGROUND SERVICE!</strong></p>
            <p>‚Ä¢ <strong>‚úÖ Android Foreground Service</strong> - Keeps app alive in background with persistent notification</p>
            <p>‚Ä¢ <strong>‚úÖ No Crashes</strong> - Proper native Android implementation using Service class</p>
            <p>‚Ä¢ <strong>‚è∞ 5-Minute Webhooks</strong> - Automatic data transmission every 5 minutes</p>
            <p>‚Ä¢ <strong>üö® Stress Alert Button</strong> - Send immediate webhook with fresh data</p>
            <p>‚Ä¢ <strong>üìä No Duplicates</strong> - Single webhook per event, clean data flow</p>
            <p>‚Ä¢ <strong>‚ö° Fresh Data</strong> - Stress button triggers new device reading (1-2 seconds)</p>
            <p>‚Ä¢ <strong>üîî Persistent Notification</strong> - Shows "HFC App Active" notification (required by Android)</p>
            <p>‚Ä¢ <strong>üîã CPU Wake Lock</strong> - Keeps Dart isolate running when screen off</p>
            <p>‚Ä¢ <strong>üõ°Ô∏è START_STICKY</strong> - Service automatically restarts if killed by system</p>
            <p><br><strong>How to use:</strong> Connect device, minimize app - you'll see a persistent notification. Webhooks send automatically every 5 minutes in background! Use red "I'm Feeling Stress" button for immediate alert.</p>
            <p>‚Ä¢ Proper handling of UTC+5:30, UTC+9:30 timezones</p>
            <p><br><strong>Previous v1.5.5 features:</strong></p>
            <p><strong>üì± TIME SYNC NOW VISIBLE IN UI!</strong></p>
            <p>‚Ä¢ <strong>‚úÖ Time Sync Status Display</strong> - See sync status right in the app UI</p>
            <p>‚Ä¢ <strong>‚úÖ Real-time Feedback</strong> - Watch sync progress as it happens</p>
            <p>‚Ä¢ <strong>‚úÖ Time Difference Display</strong> - Shows exact seconds difference</p>
            <p>‚Ä¢ <strong>‚úÖ Sync Timestamp</strong> - See when last sync occurred</p>
            <p>‚Ä¢ <strong>‚úÖ Visual Indicators</strong> - ‚úÖ Success / ‚ö†Ô∏è Warning / ‚ùå Error</p>
            <p><br><strong>New UI Section Above Webhook Status:</strong></p>
            <p>"Time Sync Status" - Shows sync result and time difference</p>
            <p><br><strong>What Was Fixed:</strong></p>
            <p>‚Ä¢ Disabled background service startup (was crashing on connect)</p>
            <p>‚Ä¢ Disabled RawManager automatic start (no cloud upload)</p>
            <p>‚Ä¢ Disabled automatic sensor enabling (was causing disconnects)</p>
            <p>‚Ä¢ App now works in foreground mode only</p>
            <p>‚Ä¢ Background service will be enabled later with valid OAuth credentials</p>
            <p><br><strong>All v1.5.0 features still included:</strong></p>
            <p>‚Ä¢ Background service with foreground notification</p>
            <p>‚Ä¢ 60-second webhook to api.hireforcare.com</p>
            <p>‚Ä¢ 5-minute automatic time sync</p>
            <p>‚Ä¢ Works when app is minimized</p>
            <p><br><strong>Previous v1.4.0 features:</strong></p>
            <p>‚Ä¢ Historical Data Dialog Fixed - White screen issue resolved</p>
            <p>‚Ä¢ Enhanced Debug Logging - Detailed console output for tracking</p>
            <p>‚Ä¢ Verbose Webhook Status - Timestamps and detailed error messages</p>
            <p><br><strong>Previous v1.3.0 features:</strong></p>
            <p><strong>üîß CRITICAL FIX: Network Connection Resolved!</strong></p>
            <p>‚Ä¢ <strong>‚úÖ Android Network Security Config</strong> - Backend connection now works!</p>
            <p>‚Ä¢ <strong>‚úÖ Internet Permission</strong> - Proper network access enabled</p>
            <p>‚Ä¢ <strong>‚úÖ Enhanced Dio Configuration</strong> - 30s timeout, better error handling</p>
            <p>‚Ä¢ <strong>‚úÖ Test Webhook Button</strong> - Manually test backend connection anytime</p>
            <p>‚Ä¢ <strong>‚úÖ Scrollable UI</strong> - Main page now scrolls properly</p>
            <p>‚Ä¢ <strong>‚úÖ Detailed Logging</strong> - See exactly what's being sent/received</p>
            <p><strong>Previous v1.2.1 features:</strong></p>
            <p><strong>üêõ Enhanced Webhook Error Tracking!</strong></p>
            <p>‚Ä¢ <strong>Webhook Status Display</strong> - See real-time sync status on main screen</p>
            <p>‚Ä¢ <strong>Success/Error Counter</strong> - Track webhook performance</p>
            <p>‚Ä¢ <strong>Detailed Error Messages</strong> - Know exactly what went wrong:</p>
            <p style="margin-left: 20px;">- Connection timeout errors<br>
               - HTTP response codes (404, 500, etc.)<br>
               - Network connectivity issues<br>
               - Backend URL problems</p>
            <p>‚Ä¢ <strong>Last Send Time</strong> - See when data was last sent</p>
            <p>‚Ä¢ <strong>Webhook URL Display</strong> - Verify backend endpoint</p>
            <p><em>Includes: Backend webhook sync + All Data Page with 60+ parameters!</em></p>
        </div>

        <div class="info">
            <h3>üìã Requirements</h3>
            <p>‚Ä¢ Android 5.0 (API level 21) or higher</p>
            <p>‚Ä¢ Bluetooth 4.0+ for HC20 device connectivity</p>
            <p>‚Ä¢ Location permission for device scanning</p>
            <p>‚Ä¢ Internet connection for cloud features</p>
        </div>

        <div class="info">
            <h3>üîß Setup Instructions</h3>
            <p>1. Download the APK file</p>
            <p>2. Enable "Unknown sources" in Android Settings</p>
            <p>3. Open the downloaded APK file to install</p>
            <p>4. Grant required permissions when prompted</p>
            <p>5. Configure OAuth credentials for cloud features</p>
        </div>
    </div>

    <script>
        // Add download analytics
        document.querySelector('.download-btn').addEventListener('click', function() {
            console.log('APK download initiated');
            // You could add analytics tracking here
        });
    </script>
</body>
</html>